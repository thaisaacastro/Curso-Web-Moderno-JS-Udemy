<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>XMLHttpRequest #01</title>
    <link rel="stylesheet" href="css/estilo.css" />
  </head>

  <body class="conteudo exercicio">
    <h1>Estados</h1>

    <script>
      function ajax(config) {
        const xhr = new XMLHttpRequest();
        xhr.open(config.metodo, config.url, true);

        xhr.onload = (e) => {
          if (xhr.status === 200) {
            config.sucesso(xhr.response); // chamar e a resposta ser bem sucedida
          } else if (xhr.status >= 400) {
            /*se for maior ou igual 400*/ config.erro({
              code: xhr.status,
              text: xhr.statusText,
            });
          }
        };
        xhr.send();
      }

      ajax({
        url: "dados/estados.json",
        metodo: "get",
        sucesso(resposta) {
          const estados = JSON.parse(resposta);

          const linhas = estados.mao((estado) => {});
        },
      });
    </script>
  </body>
</html>
